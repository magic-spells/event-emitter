!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).EventEmitter=t()}(this,function(){"use strict";return class EventEmitter{#e;constructor(){this.#e=new Map}on(e,t){if("function"!=typeof t)throw new TypeError("Listener must be a function");const n=this.#e.get(e)||[];return n.includes(t)||n.push(t),this.#e.set(e,n),this}off(e,t){const n=this.#e.get(e);if(!n)return this;const s=n.indexOf(t);return-1!==s&&(n.splice(s,1),0===n.length?this.#e.delete(e):this.#e.set(e,n)),this}emit(e,...t){const n=this.#e.get(e);if(!n||0===n.length)return!1;for(let s=0,i=n.length;s<i;++s)try{n[s].apply(this,t)}catch(t){console.error(`Error in listener for event '${e}':`,t)}return!0}removeAllListeners(e){return e?this.#e.delete(e):this.#e.clear(),this}}});
